#!/usr/bin/python
# -*- coding: UTF-8 -*-
import requests
import json
import execjs

'''
translate.py
本文件用于读取 all_plugins_jsons.txt 文件内的 URL，并将里面的内容通过 Google Translate 翻译成中文，输出 output.txt。

Author: 孙锡源, _Wr_
AuthorURL: https://www.ibadboy.net, https://wrsblog.cn
'''
json="""{"name":"Smush &#8211; Compress, Optimize and Lazy Load Images","slug":"wp-smushit","version":"3.6.1","author":"<a href=\"https:\/\/profiles.wordpress.org\/wpmudev\/\">WPMU DEV<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/wpmudev","requires":"5.2","tested":"5.4.1","requires_php":"5.6.20","compatibility":[],"rating":96,"ratings":{"5":4409,"4":308,"3":45,"2":24,"1":115},"num_ratings":4901,"support_threads":70,"support_threads_resolved":45,"downloaded":21474440,"last_updated":"2020-04-05 9:50pm GMT","added":"2008-12-05","homepage":"http:\/\/wordpress.org\/plugins\/wp-smushit\/","sections":{"description":"<p><strong>Optimize your images turn on lazy load, resize, compress and improve your Google Page Speed with the incredibly powerful and 100% free WordPress image smusher, brought to you by the superteam at WPMU DEV!<\/strong><\/p>\n<p>And whether you spell it &#8216;optimise&#8217; or &#8216;optimize&#8217;, Smush will compress all your images without a visible drop in quality.<\/p>\n<h3>Award Winning Image Optimizer<\/h3>\n<p>Smush has been benchmarked and tested number one for speed and quality and is the <a href=\"https:\/\/torquemag.io\/2018\/04\/smush-image-compression-wins-2018-plugin-madness\/\" rel=\"nofollow ugc\">award-winning<\/a>, back-to-back proven crowd favorite image optimization plugin for WordPress.<\/p>\n<ul>\n<li>Lossless Compression \u2013 Strip unused data without affecting image quality<\/li>\n<li>Lazy Load &#8211; Defer offscreen images with the flip of a switch<\/li>\n<li>Bulk Smush \u2013 Optimize up to 50 images with one click<\/li>\n<li>Image Resizing \u2013 Set a max width and height and large images will scale down as they are being compressed<\/li>\n<li>Incorrect Size Image Detection \u2013 Quickly locate images that are slowing down your site<\/li>\n<li>Directory Smush \u2013 Optimize images even if they are not located in the media library<\/li>\n<li>Automated Optimization \u2013 Asynchronously auto-smush your attachments for super fast compression on upload<\/li>\n<li>Without Monthly Limits \u2013 Optimize all of your images up to 5MB in size free forever (no daily, monthly, or annual caps)<\/li>\n<li>Gutenberg Block Integration \u2013 View all Smush stats directly in image blocks<\/li>\n<li>Multisite Compatible \u2013 Both global and individual Multisite settings<\/li>\n<li>Process All Your Files \u2013 Smush will process PNG, JPEG and GIF files for optimum results<\/li>\n<li>Super Servers &#8211; Smush images with no slowdown using WPMU DEV&#8217;s fast, reliable Smush API<\/li>\n<li>Convert to WebP (Pro Only) &#8211; Upgrade and automatically serve images in Next-Gen WebP<\/li>\n<li>And many, many, more!<\/li>\n<\/ul>\n<h3>Preserve Image Quality<\/h3>\n<p>Some image compression tools destroy images with as much as a 30% loss in quality. Our servers strip hidden bulky information from your images and reduce file size without affecting the appearance.<\/p>\n<span class=\"embed-youtube\" style=\"text-align:center; display: block;\"><iframe class='youtube-player' type='text\/html' width='640' height='360' src='https:\/\/www.youtube.com\/embed\/BDtgVJZEajg?version=3&#038;rel=1&#038;fs=1&#038;autohide=2&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;wmode=transparent' allowfullscreen='true' style='border:0;'><\/iframe><\/span>\n<p>Smush meticulously scans every image you upload \u2013 or have already added to your site \u2013 cuts all the unnecessary data and scales it for you before adding it to your media library.<\/p>\n<h3>Compress any Image in any Directory<\/h3>\n<p>In addition to smushing your media uploads, you may want to compress the images stored in other folders. Smush now lets you compress any image in any directory so that you can optimize all the images on your site \u2013 including <a href=\"https:\/\/wordpress.org\/plugins\/nextgen-gallery\/\">NextGEN<\/a> images, images stored on Amazon S3 using <a href=\"https:\/\/wordpress.org\/plugins\/amazon-s3-and-cloudfront\/\">WP Offload Media<\/a> and images in EVERY WordPress plugin and theme package!<\/p>\n<h3>Compatible with Your Favorite Themes, Builders and Media Library Plugins<\/h3>\n<p>No matter what theme or plugins you use to better manage your WordPress media library, Smush has you covered. Check out just a few of the popular products Smush is working with to help make your site faster and more efficient:<\/p>\n<ul>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/wp-all-import\/\">WP All Import<\/a><\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/amazon-s3-and-cloudfront\/\">WP Offload Media<\/a><\/li>\n<li><a href=\"https:\/\/www.joomunited.com\/wordpress-products\/wp-media-folder\" rel=\"nofollow ugc\">WP Media Folder<\/a><\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/wp-retina-2x\/\">WP Retina 2x<\/a><\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/nextgen-gallery\/\">NextGen Gallery<\/a><\/li>\n<li><a href=\"https:\/\/wpml.org\/\" rel=\"nofollow ugc\">WPML<\/a><\/li>\n<li><a href=\"https:\/\/enviragallery.com\/\" rel=\"nofollow ugc\">Envira Gallery<\/a><\/li>\n<li><a href=\"https:\/\/theme-fusion.com\/products\/fusion-builder\/\" rel=\"nofollow ugc\">Avada Fusion Builder<\/a><\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/styles\/\">Styles<\/a><\/li>\n<li>And many, many, more!<\/li>\n<\/ul>\n<h3>Incorrect Size Image Detection<\/h3>\n<p>Smush includes a wrong size image finder. Activate and your images will be highlighted with smart tips for scaling your images. Quickly locate the images that are keeping you from getting that perfect 100 on your Google PageSpeed test.<\/p>\n<h3>Defer Offscreen Images<\/h3>\n<p>Smush has lazy load built-in. If your page has a bunch of images below the fold, lazy loading will drastically speed up your page by serving only the images being viewed and delaying others further down the page.<\/p>\n<p>\u2605\u2605\u2605\u2605\u2605<\/p>\n<blockquote>\n<p>\u201cI had no idea that my page load time was being dragged down by the images. The plugin nearly halved the time it took.\u201d &#8211; <a href=\"https:\/\/profiles.wordpress.org\/karlcw\" rel=\"nofollow ugc\">karlcw<\/a><\/p>\n<\/blockquote>\n<p>\u2605\u2605\u2605\u2605\u2605<\/p>\n<blockquote>\n<p>\u201cI optimise my photos in Photoshop, but Smush makes it so easy \u2013 it does it automatically. I can just sit back and enjoy the speed.\u201d &#8211; <a href=\"https:\/\/profiles.wordpress.org\/helen432\" rel=\"nofollow ugc\">helen432<\/a><\/p>\n<\/blockquote>\n<p>\u2605\u2605\u2605\u2605\u2605<\/p>\n<blockquote>\n<p>\u201cSmush helped reduce the total files size on my site and increased browsing speed. Well done guys!\u201d &#8211; <a href=\"https:\/\/wordpress.org\/support\/users\/pdci\/\">pdci<\/a><\/p>\n<\/blockquote>\n<p>\u2605\u2605\u2605\u2605\u2605<\/p>\n<blockquote>\n<p>\u201cIt\u2019s very discrete and does not bother me with an API key or other additional installation steps. The main dashboard of the plugin gives me nice insight. Overall it really fits my needs and I\u2019ll be willing to upgrade to pro if my needs change. I\u2019d recommend it to clients\/friends without hesitation. Keep it up!\u201d &#8211; <a href=\"https:\/\/wordpress.org\/support\/users\/tarkan_\/\">tarkan_<\/a><\/p>\n<\/blockquote>\n<h3>What about Multisite?<\/h3>\n<p>Smush can be used to optimize all the images across your entire network! Use global settings or configure each site individually.<\/p>\n<p>Smush is super easy to use \u2013 no confusing compression software settings. Smush images in your library one at a time or bulk smush up to 50 images at a time.  Plus, configure auto-smush to asynchronously scale and compress some or all of your images as they are being uploaded \u2013 it&#8217;s incredibly fast.<\/p>\n<p>The faster your site loads, the more Google, Bing, Yahoo and other search engines will like it. Your site will load faster and rank higher.<\/p>\n<h3>Shameless Plug(ins)<\/h3>\n<ul>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/search\/Hummingbird\/\">Hummingbird<\/a> &#8211; Page Speed Optimization<\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/wordpress-popup\/\">Hustle<\/a> &#8211; Pop-ups, Slide-ins and Email Opt-ins<\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/smartcrawl-seo\/\">SmartCrawl<\/a> &#8211; SEO Optimizer<\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/defender-security\/\">Defender<\/a> &#8211; Security, Monitoring, and Hack Protection<\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/forminator\/\">Forminator<\/a> &#8211; Form, Poll, and Quiz Builder<\/li>\n<li><a href=\"https:\/\/wordpress.org\/plugins\/beehive-analytics\/\">Beehive<\/a> &#8211; Customizable Google Analytics Dashboards<\/li>\n<\/ul>\n<p>Smush can take care of all your image compression needs, for free!<\/p>\n<p>However, if you\u2019d like Super Smush lossy compression, fast CDN image delivery, WebP conversion, automatic resizing, the ability to optimize (or optimise) images up to 32MB, bulk smush optimization for all your images in just one-click, auto-convert PNG to JPEG, the ability to Smush and make a copy of your full-sized images (to restore them at any point) you can always take the next step with <a href=\"https:\/\/premium.wpmudev.org\/project\/wp-smush-pro\/?utm_source=wordpress.org&amp;utm_medium=readme&amp;utm_campaign=smush-readme&amp;utm_content=wp_smush_pro#trial\" rel=\"nofollow ugc\">WP Smush Pro<\/a>. And get even more with her whole team of WordPress optimization hero friends (security, SEO, performance, support and maintenance automation) \u2013 trusted buy thousands of agencies and freelancers offering site maintenance services.<\/p>\n<h3>Privacy<\/h3>\n<p>Smush does not interact with end users on your website. The only input option Smush has is to a newsletter subscription for site admins only.<\/p>\n<p>Smush uses a third-party email service (Mailchimp) to send informational emails (Opt-in) to the site administrator. The administrator&#8217;s email address is sent to Mailchimp and a cookie is set by the service. Only administrator information is collected by Mailchimp.<\/p>\n<p>Smush sends images to the WPMU DEV servers to optimize them for web use. This includes the transfer of EXIF data. The EXIF data will either be stripped or returned as it is. It is not stored on the WPMU DEV servers.<\/p>\n<h3>About Us<\/h3>\n<p>WPMU DEV is a premium supplier of quality WordPress plugins, services and support. Learn more here:<br \/>\n<a href=\"https:\/\/premium.wpmudev.org\/?utm_source=wordpress.org&amp;utm_medium=readme&amp;utm_campaign=smush-readme&amp;utm_content=wpmu_dev_link\" rel=\"nofollow ugc\">https:\/\/premium.wpmudev.org\/<\/a><\/p>\n<p>Don&#8217;t forget to stay up to date on everything WordPress from the Internet&#8217;s number one resource:<br \/>\n<a href=\"https:\/\/premium.wpmudev.org\/blog\/?utm_source=wordpress.org&amp;utm_medium=readme&amp;utm_campaign=smush-readme&amp;utm_content=wpmu_dev_blog_link\" rel=\"nofollow ugc\">WPMU DEV Blog<\/a><\/p>\n<p>Hey, one more thing&#8230; we hope you <a href=\"https:\/\/profiles.wordpress.org\/WPMUDEV\/\" rel=\"nofollow ugc\">enjoy our free offerings<\/a> as much as we&#8217;ve loved making them for you!<\/p>\n<h3>Contact and Credits<\/h3>\n<p>Originally written by Alex Dunae at Dialect (<a href=\"http:\/\/dialect.ca\/?wp_smush_it\" rel=\"nofollow ugc\">dialect.ca<\/a>, e-mail &#8216;alex&#8217; at &#8216;dialect dot ca&#8217;), 2008-11.<\/p>\n","faq":"\n<h4>I just finished running Smush and Google PageSpeed still says my images need compressing and resizing. How do I fix it?<\/h4>\n<p>\n<p>This means your images were not properly scaled for where they are being displayed. Scaling images before uploading them can be time-consuming but can save space and speedup load time. First, determine what size your image needs to be. You can use the built-in images size detector included in the free version of Smush to find what height and width your image should be. Once you know how large the image should be, scale your images to the right size.<\/p>\n<\/p>\n<h4>PageSpeed Insights is telling me to defer offscreen images. Can Smush fix that?<\/h4>\n<p>\n<p>Lazy Load will defer your offscreen images from loading until they are needed. From the Smush Dashboard select Lazy Load and click Activate. Smush Lazy Load works out of the box or can be customized based on your needs.<\/p>\n<p><em>Tip:<\/em> If you&#8217;re having any issues or want to save a tone of time, The Smush Pro CDN includes auto resizing.<\/p>\n<\/p>\n<h4>Does Smush delete or replace my original full-size images?<\/h4>\n<p>\n<p>Nope. WordPress crops and resizes every image you upload for embedding on your site. By default, Smush only compresses these cropped and resized images, not your original full-size images. To compress your original full-sized images use <a href=\"https:\/\/premium.wpmudev.org\/project\/wp-smush-pro\/?utm_source=wordpress.org&amp;utm_medium=readme&amp;utm_campaign=smush-readme&amp;utm_content=smush_pro#trial\" rel=\"nofollow ugc\">Smush Pro<\/a>.<\/p>\n<\/p>\n<h4>What type of file should I use for my images (GIF, PNG, JPG)?<\/h4>\n<p>\n<p>GIF files are large and can\u2019t be optimized much. They should only be used if the image is animated.<\/p>\n<p>PNG is best for computer generated graphics (vectors, logos, fonts, etc.), images with few colors or images with transparency.<\/p>\n<p>JPG should be used for photography or images with a lot of color variation.<\/p>\n<p><em>Tip:<\/em> The Smush Pro CDN includes WebP compression &#8211; sharper images that are 25 to 30 percent smaller than JPEG and PNG files.<\/p>\n<\/p>\n<h4>I\u2019m a photographer can I keep all my EXIF data?<\/h4>\n<p>\n<p>Yes! EXIF data stores camera settings, focal length, date, time and location information in image files. EXIF data makes image files larger but if you are a photographer you may want to preserve this information. We have included the option to preserve EXIF image data in Smush.<\/p>\n<\/p>\n<h4>I just ran Bulk Smush and some of my images didn&#8217;t get compressed?<\/h4>\n<p>\n<p>First, check to see if you&#8217;re receiving any server errors. If your images seem to be processing correctly check the file size of the images being skipped. Images over 5mb will be skipped. To compress images up to 32mb get <a href=\"https:\/\/premium.wpmudev.org\/project\/wp-smush-pro\/?utm_source=wordpress.org&amp;utm_medium=readme&amp;utm_campaign=smush-readme&amp;utm_content=wp_smush_pro#trial\" rel=\"nofollow ugc\">Smush Pro<\/a>.<\/p>\n<\/p>\n<h4>I activated Smush and I don\u2019t see any difference in image quality. How am I supposed to know if Smush is working?<\/h4>\n<p>\n<p>Great question! It is important to understand Smush is an optimization tool that uses lossless image compression to save disk storage space and speed up your site. Smush squeezes data from your image files that will save space, resize huge images, and improve speed without changing quality.<\/p>\n<p>You can track file size changes in your media library, individual image savings, directory savings, and Smush total savings with Smush stats. If you want to see some additional magic, run before-and-after page-speed tests with WP Checkup or Google PageSpeed Insights. Every little bit of resource savings is important when it comes to page-speed!<\/p>\n<\/p>\n<h4>Can&#8217;t I just use Photoshop or another image editing application to optimize my images?<\/h4>\n<p>\n<p>Optimizing all the image sizes generated by WordPress, images being imported from plugins and themes, and images from other web sites is a painful and time-consuming process.<\/p>\n<p>Smush automatically handles optimizing all your images no matter where they come from and can be used as a standalone tool or alongside Photoshop.<\/p>\n<\/p>\n<h4>My Google PageSpeed test is telling me to serve images in Next-Gen formats. Can Smush do that?<\/h4>\n<p>\n<p>WebP and other Next-Gen formats are not supported on all browsers and require fallback images. For that reason, WebP conversion is only available in Smush Pro. Smush Pro converts images to WebP for a 25-30% savings over JPEG and PNG and serves fallback images on unsupported browsers.<\/p>\n<\/p>\n<h4>Is it optimize or optimise?<\/h4>\n<p>\n<p>It depends what side of the pond you live on&#8230;but whether you say optimize, optimise, optimizer or Smush goddess of speed, this plugin will make sure your images are loading lighting fast.<\/p>\n<\/p>\n\n","changelog":"<h4>3.6.1<\/h4>\n<ul>\n<li>Enhance: Directory Smush image processing<\/li>\n<li>Enhance: CDN background image processing performance<\/li>\n<li>Fix: Lazy loading breaking visual editors (Oxygen, Thrive Architect, Tatsu)<\/li>\n<li>Fix: WooCommerce breaking Smush onboarding dialog<\/li>\n<li>Fix: CDN processing of background images with spaces<\/li>\n<li>Fix: REST API errors<\/li>\n<\/ul>\n<h4>3.6.0<\/h4>\n<ul>\n<li>New: CDN support for images in REST API responses<\/li>\n<li>New: Media library filter to show uncompressed images<\/li>\n<li>New: Native lazy loading support<\/li>\n<li>Enhance: Image resize detection functionality<\/li>\n<li>Enhance: Allow excluding images from lazy loading with data-skip-lazy attribute<\/li>\n<li>Enhance: Improve restore backup UI<\/li>\n<li>Enhance: Bulk smush UI<\/li>\n<li>Fix: NextGEN Gallery integration<\/li>\n<li>Fix: Error detecting language error on Settings page<\/li>\n<li>Fix: &#8220;Choose directory&#8221; button disabled state after first click<\/li>\n<li>Fix: Some notices not being dismissible<\/li>\n<li>Fix: Image restore<\/li>\n<\/ul>\n<h4>3.5.1<\/h4>\n<ul>\n<li>Fix: Browser console errors on pages without Backbone js scripts<\/li>\n<li>Fix: Lazy load compatibility with Beaver Builder<\/li>\n<li>Fix: Lazy load breaking videos<\/li>\n<\/ul>\n<h4>3.5.0<\/h4>\n<ul>\n<li>New: Add custom post types to include\/exclude filters in the lazy load module<\/li>\n<li>New: CDN support for source in the picture element<\/li>\n<li>New: Lazy loading for WebP images<\/li>\n<li>New: Lazy loading support for picture element<\/li>\n<li>Enhance: Page parsing performance<\/li>\n<li>Enhance: Media library UI<\/li>\n<li>Enhance: CDN compatibility with empty srcset and sizes image attributes<\/li>\n<li>Enhance: CDN support for background images<\/li>\n<li>Enhance: Lazy load compatibility with Envira Gallery plugin<\/li>\n<li>Enhance: Plugins page links<\/li>\n<li>Fix: CDN not detecting background images surrounded by HTML entities<\/li>\n<li>Fix: CDN not replacing srcset in some cases<\/li>\n<li>Fix: Lazy load Gravatars<\/li>\n<li>Fix: WPBakery Page Builder integration<\/li>\n<li>Fix: Typos in the lazy load module<\/li>\n<\/ul>\n<h4>3.4.2<\/h4>\n<ul>\n<li>Enhance: Security<\/li>\n<li>Fix: Fatal error on WordPress 4.x<\/li>\n<li>Fix: Compatibility issue with ReCaptcha and lazy loading<\/li>\n<\/ul>\n<h4>3.4.1<\/h4>\n<ul>\n<li>Fix: Upgrade from Free to Pro causing an error<\/li>\n<\/ul>\n<h4>3.4.0<\/h4>\n<ul>\n<li>New: Option to ignore images from Smushing<\/li>\n<li>New: CDN support for picture element<\/li>\n<li>New: Lazy load for iframes<\/li>\n<li>New: Lazy load compatibility with Block Gallery plugin<\/li>\n<li>New: Lazy load compatibility with CoBlocks plugin<\/li>\n<li>New: smush_cdn_custom_uploads_dir filter for use with custom upload directories in CDN<\/li>\n<li>New: CDN support for images in data-original attribute<\/li>\n<li>Enhance: Compatibility with WP Engine<\/li>\n<li>Enhance: CDN support for custom UPLOADS directories<\/li>\n<li>Enhance: Max width detection with CDN auto-resize functionality<\/li>\n<li>Enhance: Lazy loading image format detection<\/li>\n<li>Enhance: Lazy loading compatibility with AMP<\/li>\n<li>Enhance: Lazy loading compatibility with Essential Grid<\/li>\n<li>Enhance: Lazy loading compatibility with JetPack<\/li>\n<li>Enhance: Integration settings pages UI, summary meta box UI<\/li>\n<li>Enhance: Significantly increase performance on sites with large media libraries<\/li>\n<li>Enhance: Support for WordPress 4.x<\/li>\n<li>Enhance: Compatibility with Oxygen Builder<\/li>\n<li>Enhance: Accessibility in modals<\/li>\n<li>Fix: Undefined index PHP notices<\/li>\n<li>Fix: Lazy loading not properly working on Bootstrap based themes<\/li>\n<li>Fix: Lazy loading exclusion rules not working with active CDN<\/li>\n<li>Fix: Failed parsing srcset attribute value since its w descriptor is invalid warnings<\/li>\n<li>Fix: PHP warnings for getimagesize() disabled wrapper<\/li>\n<li>Fix: UI conflict with Store Locator Plus plugin<\/li>\n<li>Fix: CDN incorrectly resizing cropped images<\/li>\n<li>Fix: Directory Smush permissions<\/li>\n<li>Fix: NextGen gallery bulk Smush functionality<\/li>\n<li>Fix: Network access control settings<\/li>\n<li>Fix: Resize threshold not resetting when auto-resize is disabled<\/li>\n<\/ul>\n<h4>3.3.2<\/h4>\n<ul>\n<li>New: Support for big images in WordPress 5.3<\/li>\n<li>Fix: WP Offload Media integration with Pro version<\/li>\n<\/ul>\n<h4>3.3.1<\/h4>\n<ul>\n<li>Fix: CDN incorrect calculation for image sizes attribute<\/li>\n<li>Fix: Undefined index PHP notices<\/li>\n<\/ul>\n<h4>3.3.0<\/h4>\n<ul>\n<li>New: Integration with Envira Gallery<\/li>\n<li>New: Integration with Avada Fusion Builder background images<\/li>\n<li>Enhance: Compatibility with staging environment on WPMU DEV hosting<\/li>\n<li>Enhance: SmartCrawl readability analysis compatibility<\/li>\n<li>Enhance: Allow optimizing directories in root folder<\/li>\n<li>Enhance: Error descriptions during optimization<\/li>\n<li>Enhance: Detection of image sizes when &#8220;All&#8221; option is selected in Bulk Smush settings<\/li>\n<li>Enhance: CDN detection of background images<\/li>\n<li>Fix: Issue with CDN auto resize and Revolution Slider<\/li>\n<li>Fix: CDN auto resize feature overwriting the correct sizes attribute<\/li>\n<li>Fix: NextGen summary meta box layout<\/li>\n<li>Fix: PHP warnings on NextGen integration<\/li>\n<li>Fix: UI layout in NextGen integration<\/li>\n<li>Fix: Lazy loading spinner layout issue<\/li>\n<li>Fix: Compatibility with RT Media<\/li>\n<\/ul>\n<h4>3.2.4<\/h4>\n<ul>\n<li>Enhance: Minor user experience improvements and updates<\/li>\n<li>Fix: Bulk Smush notices and errors<\/li>\n<\/ul>\n<h4>3.2.3<\/h4>\n<ul>\n<li>New: Pro page to highlight Smush Pro features<\/li>\n<li>Enhance: Minor user experience improvements and updates<\/li>\n<li>Enhance: CDN activation process<\/li>\n<li>Fix: CDN upgrade status issue<\/li>\n<li>Fix: Remove auto sizing in lazy loading<\/li>\n<li>Fix: Images with empty class not lazy loading<\/li>\n<li>Fix: Lazy loading not working on front page when a static page is selected as a homepage<\/li>\n<\/ul>\n<h4>3.2.2.1<\/h4>\n<ul>\n<li>Fix: Preserve network settings after update<\/li>\n<\/ul>\n<h4>3.2.2<\/h4>\n<ul>\n<li>New: Bulk restore<\/li>\n<li>New: Network access control settings<\/li>\n<li>New: Lazy loading onboarding step<\/li>\n<li>New: Lazy loading custom placeholders<\/li>\n<li>New: Lazy loading custom spinners<\/li>\n<li>New: CDN support for background images<\/li>\n<li>Enhance: Lazy loading support for ACF<\/li>\n<li>Enhance: Lazy loading page parser<\/li>\n<li>Enhance: Do not allow enabling CDN for sites that are not registered on the Hub<\/li>\n<li>Enhance: Bulk compressing images without proper meta data<\/li>\n<li>Enhance: Do not lazy load images on AMP pages<\/li>\n<li>Enhance: Translation strings<\/li>\n<li>Enhance: UI in media library<\/li>\n<li>Enhance: API calls<\/li>\n<li>Fix: Plugin texts<\/li>\n<li>Fix: PHP warning when Smush is not able to detect site language<\/li>\n<li>Fix: Excluding frontpage post type from lazy loading<\/li>\n<li>Fix: Missing icons in resize my full size images notice<\/li>\n<li>Fix: Inability to resize full size images several times<\/li>\n<li>Fix: Image count calculations during images re-check<\/li>\n<li>Fix: Directory Smush on SiteGround, GoDaddy and Bluehost<\/li>\n<\/ul>\n<h4>3.2.1<\/h4>\n<ul>\n<li>New: Increase image size limit in free version from 1Mb to 5Mb<\/li>\n<li>New: Image sizes option<\/li>\n<li>New: Integration with WPBakery Page Builder<\/li>\n<li>Enhance: Move Image resize detection to the new Tools section<\/li>\n<li>Enhance: Add upgrade link to bulk smush limit message<\/li>\n<li>Enhance: Directory Smush async mode<\/li>\n<li>Enhance: Regex syntax for detecting images in content<\/li>\n<li>Enhance: Smush CDN support for 3rd party lazy loading plugins<\/li>\n<li>Enhance: Smush CDN UI<\/li>\n<li>Enhance: Smush CLI error handling<\/li>\n<li>Enhance: Update API status button functionality<\/li>\n<li>Enhance: Filter to skip image from lazy loading<\/li>\n<li>Enhance: Support for Revolution Slider<\/li>\n<li>Enhance: Notices when bulk limit is reached<\/li>\n<li>Enhance: Support for jQuery 2.x-3.x<\/li>\n<li>Fix: Errors with WP Ultimate Recipe Premium<\/li>\n<li>Fix: Inability to determine max content width with Auto Resize CDN feature<\/li>\n<li>Fix: Directory Smush not resetting errors on successful scans<\/li>\n<li>Fix: Lazy loading spinning image containers<\/li>\n<li>Fix: PHP notice on lazy loading settings page<\/li>\n<li>Fix: Subsites showing settings pages when network wide options enabled<\/li>\n<li>Fix: PHP warning on 2.x &#8211; 3.x upgrade in network installs<\/li>\n<li>Fix: CDN not processing the image tag if src does not contain a valid image<\/li>\n<li>Fix: Lazy loading URL exclude rules<\/li>\n<li>Fix: URL exclusion rules in lazy loading<\/li>\n<\/ul>\n<h4>3.2.0.2<\/h4>\n<ul>\n<li>New: Add &#8220;Update API status&#8221; button in Settings<\/li>\n<li>Enhance: API key validation<\/li>\n<li>Fix: CDN displaying incorrect usage data<\/li>\n<\/ul>\n<h4>3.2.0.1<\/h4>\n<ul>\n<li>Fix: CDN upgrade link not showing when bandwidth is over limit<\/li>\n<\/ul>\n<h4>3.2.0<\/h4>\n<ul>\n<li>New: Image lazy loading<\/li>\n<li>New: CDN support for mapped domains in multisite<\/li>\n<li>New: Auto update free version of the plugin to Pro if Dashboard plugin is installed and activated<\/li>\n<li>New: Options to preserve settings and data on plugin uninstall<\/li>\n<li>New: Option to reset settings to defaults<\/li>\n<li>New: Ignore images with errors during bulk Smush<\/li>\n<li>Enhance: Performance<\/li>\n<li>Enhance: Clean up outdated and deprecated code<\/li>\n<li>Enhance: Onboarding experience<\/li>\n<li>Enhance: Skip auto resized images on CDN from highlighting in image resize detection tab<\/li>\n<li>Enhance: Directory Smush where wp-content is placed in a custom location<\/li>\n<li>Fix: [NextGEN Gallery] bug with stats count<\/li>\n<li>Fix: Translation strings and typos<\/li>\n<li>Fix: wp_smush_skip_folder filter<\/li>\n<li>Fix: Recalculate stats when clicking &#8216;Re-check status&#8217; button<\/li>\n<li>Fix: Illegal string offset &#8216;file&#8217; warning in PHP<\/li>\n<\/ul>\n<h4>3.1.1<\/h4>\n<ul>\n<li>Fix: Auto Smush in Gutenberg<\/li>\n<li>Fix: Image backup in Gutenberg<\/li>\n<\/ul>\n<h4>3.1.0<\/h4>\n<ul>\n<li>New: Onboarding experience for new installs<\/li>\n<li>New: WP CLI support for bulk\/single image Smush and bulk restore<\/li>\n<li>New: Color accessibility settings<\/li>\n<li>New: Compatibility with Beaver Builder<\/li>\n<li>Enhance: CDN image detection<\/li>\n<li>Enhance: Compatibility with Hustle<\/li>\n<li>Enhance: Add upgrade link in Plugins section for the free version<\/li>\n<li>Enhance: Remove activation tooltips<\/li>\n<li>Enhance: CSS for highlighting incorrectly sized images<\/li>\n<li>Enhance: Preserve stats during options updates<\/li>\n<li>Enhance: CDN will now only accept JPG\/PNG\/GIF images &#8211; no more warnings in browser console<\/li>\n<li>Enhance: Support for Edge browser (and some older browser versions)<\/li>\n<li>Fix: Browser console errors with CDN auto resizing and webp images<\/li>\n<li>Fix: Directory Smush errors on subsites in multisite environments<\/li>\n<li>Fix: Fix CDN not enabling on subsites in multisite<\/li>\n<li>Fix: JavaScript error during bulk Smush on free version of the plugin<\/li>\n<\/ul>\n<h4>3.0.2<\/h4>\n<ul>\n<li>Enhance: Support for WordPress 5.0 release and Gutenberg editor<\/li>\n<li>Fix: [WP Offload Media] integration with Pro version<\/li>\n<li>Fix: PHP warning on update from Smush version 2 to version 3<\/li>\n<\/ul>\n<h4>3.0.1<\/h4>\n<ul>\n<li>Security: Remove support for Upfront theme functions<\/li>\n<\/ul>\n<h4>3.0.0<\/h4>\n<ul>\n<li>New: Smush CDN<\/li>\n<li>New: Webp support with CDN<\/li>\n<li>New: Auto image resize when using CDN<\/li>\n<li>New: Plugin structure (Important: plugin globals have been removed)<\/li>\n<li>New: Show failure reason during directory Smush<\/li>\n<li>New: Settings page with language translation links<\/li>\n<li>Security: Fix XSS vulnerability<\/li>\n<li>Security: Fix phar deserialization vulnerability (thanks @ripstech)<\/li>\n<li>Enhance: Better handling of animated GIFs. Improve performance.<\/li>\n<li>Enhance: Update translation strings<\/li>\n<li>Enhance: Clean out all the leftover data on plugin uninstall<\/li>\n<li>Enhance: Directory Smush modal: support keyboard navigation<\/li>\n<li>Enhance: Directory Smush modal: navigate to next node by typing the first letters<\/li>\n<li>Enhance: [WPML] PNG to JPEG conversion in media translations<\/li>\n<li>Fix: Directory Smush resume button only working when clicked on icon<\/li>\n<li>Fix: Errors during image re-check<\/li>\n<li>Fix: Meta values are deleted when an image is skipped using wp_smush_image filter.<\/li>\n<li>Fix: [WP Offload Media] Backward compatibility errors<\/li>\n<li>Fix: [WP Offload Media] Warnings when certain attachment sizes are excluded from compression<\/li>\n<li>Fix: [WP Offload Media] Errors during is_animated check with images stored on S3<\/li>\n<li>Fix: [WooCommerce] Compatibility issue with WooCommerce 3.5<\/li>\n<\/ul>\n<h4>2.9.1<\/h4>\n<ul>\n<li>Fix: Errors during update from Free to Pro<\/li>\n<\/ul>\n<h4>2.9.0<\/h4>\n<ul>\n<li>New: Incorrect image size detection<\/li>\n<li>New: Pointers for new installs<\/li>\n<li>New: Show a list of errors (if present) after bulk Smush<\/li>\n<li>Enhance: Remove activation redirection<\/li>\n<li>Fix: Compatibility with Enhanced Media Library<\/li>\n<li>Fix: Layout inconsistencies<\/li>\n<li>Fix: Remove duplicate queries<\/li>\n<li>Fix: User profile languages not properly applying to Smush<\/li>\n<li>Fix: Translation strings<\/li>\n<li>Fix: Smush full sized images when image dimensions are smaller than the largest thumbnail<\/li>\n<li>Fix: Directory Smush will not get stuck when an image encounters an error during compression<\/li>\n<li>Fix: Support for the latest Gutenberg version<\/li>\n<li>Fix: Allow blog admins in network installs to manage site Smush options<\/li>\n<li>Fix: Stats not showing after Smushing in media library<\/li>\n<\/ul>\n<h4>2.8.2<\/h4>\n<p>Fix: Compatibility issues with latest WP Offload Media (WP Offload S3) update<\/p>\n<h4>2.8.1<\/h4>\n<ul>\n<li>New: Directory Smush UI\/UX<\/li>\n<li>New: Directory Smush updated library<\/li>\n<li>New: Directory Smush ability to select multiple directories<\/li>\n<li>New: Directory Smush ability to deselect certain images in directories<\/li>\n<li>New: Integration with Gutenberg image block<\/li>\n<li>Enhance: Bulk Smush UI<\/li>\n<li>Enhance: Update GDPR policy text<\/li>\n<li>Enhance: Do not auto resize animated GIF images to preserve animation<\/li>\n<li>Enhance: Performance improvements, remove duplicate queries<\/li>\n<li>Fixed: Stats reset for Smushed directories when selecting Super-smush option<\/li>\n<li>Fixed: Pro status cached bug<\/li>\n<li>Fixed: Quick setup modal missing image dimensions for image resize option<\/li>\n<\/ul>\n<h4>2.8.0.1<\/h4>\n<ul>\n<li>Fixed: Smush causing media uploads to not function properly (in rare conditions)<\/li>\n<\/ul>\n<h4>2.8.0<\/h4>\n<ul>\n<li>New: High-power API cluster for Smush Pro users<\/li>\n<li>New: Updated and improved UI\/UX<\/li>\n<li>New: Stats meta box<\/li>\n<li>Enhance: Smush will have it&#8217;s own section in the GDPR policy, instead of appending to the end of the policy text<\/li>\n<li>Enhance: Compatibility with AJAX Thumbnail Rebuild and ACF plugins<\/li>\n<li>Enhance: Add support for image\/x-png and image\/x-citrix-jpeg mime types<\/li>\n<li>Fixed: File size not updated inside the attachment details modal during Smush\/restore of an image<\/li>\n<li>Fixed: Directory Smush using mobile<\/li>\n<li>Fixed: Smush progress during feature image upload<\/li>\n<li>Fixed: Image width and height converted to string in async request<\/li>\n<li>Fixed: Warnings on PHP 5.2<\/li>\n<li>Fixed: Warnings on PHP 7.1<\/li>\n<li>Fixed: Fixed wrong method name in S3 offload class. Thanks Tedy Warsitha<\/li>\n<li>Fixed: Issues when editing image attributes in the media library<\/li>\n<li>Fixed: Missing translation strings<\/li>\n<\/ul>\n<h4>2.7.9.2<\/h4>\n<ul>\n<li>Fixed: Critical Error: Ajax returns Error 500 on media library in WP Offload S3<\/li>\n<\/ul>\n<h4>2.7.9.1<\/h4>\n<ul>\n<li>Fixed: Conflict with front-end editors<\/li>\n<\/ul>\n<h4>2.7.9<\/h4>\n<ul>\n<li>\n<p>Update:<\/p>\n<ul>\n<li>Smush settings moved to separate top level page in dashboard ( Smush\/Smush Pro )<\/li>\n<li>Added Privacy Policy content for Smush in Privacy Policy Guide<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Conflict with plugin Download Manager, Embed any document, Getty<\/li>\n<li>Settings link incorrect for sub sites<\/li>\n<li>Don&#8217;t load smush settings in front-end<\/li>\n<li>Increase php memory limit only if lesser than required<\/li>\n<li>Display a warning if custom table isn&#8217;t created<\/li>\n<li>Attachment details not being displayed when uploading image in post edit screen<\/li>\n<li>Compatibility with WP Offload S3 latest version<\/li>\n<li>Directory Smush skips 1 image for every iteration of 50 images ( Free version )<\/li>\n<li>Nextgen Gallery Stats not updated properly ( Pro Version )<\/li>\n<li>Added instructions for Resize Image feature &#8211; It works independent of Auto Smush, If &#8220;Automatic Smush&#8221; is off and<br \/>\n&#8220;Resize my full size image&#8221; is kept on, the image would be resized<\/li>\n<li>Smush button doesn not appears in Media Modal window for Ultimate Branding<\/li>\n<li>NextGen Integration: Smush stats not updated after image deletion<\/li>\n<li>Warning\/Error for settings on initial setup<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Integrations:<\/p>\n<ul>\n<li>Updated WP Offload S3 integration to smush images with Cloudfront enabled<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.8<\/h4>\n<ul>\n<li>\n<p>Includes changes from update 2.7.7 and a fix for JS errors in custom posts screen disabling post editor tabs<\/p>\n<\/li>\n<li>\n<p>Updates:<\/p>\n<ul>\n<li>Minor UI Changes ( Accessibility Fixes )<\/li>\n<li>PNG to JPG: Iterate over rows while URL replacement to make sure all the occurrences are updated<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Skip button doesn&#8217;t skips images<\/li>\n<li>Show updated smush status in Media Grid attachment modal<\/li>\n<li>Font issue in WordPress backend for Ubuntu systems<\/li>\n<li>Fatal Error: get_current_network<\/li>\n<li>Async Smush not working for subdirectory sites<\/li>\n<li>File backups were not being created for Auto Smush if Async smush is disabled<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.6<\/h4>\n<ul>\n<li>Security: Fixed path traversal vulnerability. Thanks Ricardo S\u00e1nchez(@neorichi) for responsible disclosure.<\/li>\n<\/ul>\n<h4>2.7.5<\/h4>\n<ul>\n<li>\n<p>Updated:<\/p>\n<ul>\n<li>UI\/UX has been updated for Bulk Smush page<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Start from latest image while Bulk Smushing<\/li>\n<li>S3 config error if AWS keys are defined in wp-config.php<\/li>\n<li>NextGen smush page not working properly<\/li>\n<li>Do not redirect to settings page on activation if WP CLI is installed<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.4.1<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li><code>get_current_screen()<\/code> method causing error on some sites<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.4<\/h4>\n<ul>\n<li>Update: Minor UI changes<\/li>\n<li>Fixed:\n<ul>\n<li>Images not being resized when image is uploaded via Mobile App<\/li>\n<li>Notices and Warnings<\/li>\n<li>S3 offload Integration &#8211; Original Image not being deleted in some cases<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.3.1<\/h4>\n<ul>\n<li>Fixed: Pro user unable to login to WPMU DEV Dashboard plugin when Smush is active, Error: &#8220;Your key is invalid.&#8221;<\/li>\n<li>Updated: S3 Integration, return URL for any error, &#8216;as3cf_get_attached_file&#8217;<\/li>\n<\/ul>\n<h4>2.7.3<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>Manual Smush not working<\/li>\n<li>Bulk Smush broken for few sites<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.2<\/h4>\n<ul>\n<li>Updated:\n<ul>\n<li>Use JS for stats calculation while using Bulk Smush, to reduce the Ajax time<\/li>\n<\/ul>\n<\/li>\n<li>Fixed:\n<ul>\n<li>Some Images would keep appearing in the re-smush list, if &#8220;Resize original images&#8221; is enabled<\/li>\n<li>Enable buttons in settings redirects to network smush settings page in a subsite if networkwide settings are enabled<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.7.1<\/h4>\n<ul>\n<li>Fixed: Progress bar not updating<\/li>\n<\/ul>\n<h4>2.7<\/h4>\n<ul>\n<li>\n<p>Updated:<\/p>\n<ul>\n<li>Faster image uploads: Set async request timeout to 0, if you&#8217;re having trouble with Auto Smush, set timeout using filter <code>smush_async_time_out<\/code><\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Issue with WP Smush Pro membership check<\/li>\n<li>Stats: Rating message shows incorrect image count<\/li>\n<li>Stats: Include directory smush stats in media stats<\/li>\n<li>Directory Smush: UI improvement<\/li>\n<li>Directory Smush: Allow re-smushing directory images, if the lossy feature is turned on<\/li>\n<li>Directory Smush: Fixed empty query warning if there are more than 5k images<\/li>\n<li>Site Ground Staging &#8211; Disable Async smush for staging sites, admin URL for async request is incorrect because of the Apache module<\/li>\n<li>Image appearing in Re-Smush list even after smushing, if resize settings are kept on.<\/li>\n<li>Performance: Updated query for smushed images count<\/li>\n<\/ul>\n<\/li>\n<li>Added:\n<ul>\n<li>WP S3 Offload &#8211; Plugin Compatibility for Remove files from server feature ( Pro Version )<\/li>\n<li>WP RSS Aggregator compatibility for Auto Smush<\/li>\n<li>WordPress mobile app Auto smush compatibility<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.6.3<\/h4>\n<ul>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Compatibility issue with WP Defender<\/li>\n<li>Image dimensions not updated after resizing in Grid view<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Added:<\/p>\n<ul>\n<li>Added a check to preserve smush stats on plugin deletion, You can add <code>define('WP_SMUSH_PRESERVE_STATS', true );<\/code> in wp-config.php<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.6.2<\/h4>\n<ul>\n<li>\n<p>Added:<\/p>\n<ul>\n<li>WP All Import Compatibility<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Image not being updated to S3 after resmush ( Only if remove files from server is kept off in S3 plugin settings )<\/li>\n<li>Added check for directory smush savings<\/li>\n<li>Call <code>wp_update_attachment_metadata<\/code> after smushing, to allow the optimised image to be used<\/li>\n<li>Dir Smush: Images with special symbols doesn&#8217;t gets optimised<\/li>\n<li>Dir Smush: Skip .bak files<\/li>\n<li>Retina Images @2x: Do not smush if auto smush is disabled<\/li>\n<li>Backup ( Pro ): Take backup of original untouched image, improved backup and restore.<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Updated:<\/p>\n<ul>\n<li>Smush Limit ( 50 Images ), do not include images with error in count<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.6.1<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>PHP 5.2 compatibility<\/li>\n<li>DB error: Use a smaller value for Path Index size ( Prefix Indexes )<\/li>\n<li>Updated translation function name<\/li>\n<li>UI\/UX fixes for directory smush<\/li>\n<li>Improved optimisation process for directory smush<\/li>\n<li>Updated uninstall.php<\/li>\n<li>Skip sites directory from Directory Smush in a Multisite<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.6<\/h4>\n<ul>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>PHP 7 warning ( https:\/\/goo.gl\/GKEMim ), @props: @alexis-mag<\/li>\n<li>Async Smush conflict with other plugins<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Changes:<\/p>\n<ul>\n<li>Moved notice JS\/CSS in footer<\/li>\n<li>Bulk Smush page optimisation<\/li>\n<li>Increased timeout for Async request &#8211; Fixes Async smush not working for some hosting services<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Added:<\/p>\n<ul>\n<li>Directory Smush ( Pro Feature )<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.5.3<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>Show a Smush progress message in Grid view for Auto Smush<br \/>\n( A lot of people reported it as Auto Smush not working, which works in background though )<\/li>\n<li>Translation domain was incorrect for few strings<\/li>\n<li>Translation: Load translation domain in main plugin file<\/li>\n<li>Include image size <code>medium_large<\/code> in smush list<\/li>\n<li>Error: Cannot use string offset as an array<\/li>\n<li>Error in PNG to JPG conversion ( Pro Feature ), added check for mime_content_type function<\/li>\n<li>Pro Status not recognised<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.5.2<\/h4>\n<ul>\n<li>\n<p>Added:<\/p>\n<ul>\n<li>Filter: <code>wp_smush_image<\/code>, Boolean, Whether to Smush image or not<\/li>\n<li>Async Optimisation for Auto Smush on upload ( Set WP_SMUSH_ASYNC to false to turn off async optimisation )<\/li>\n<li>Networkwide settings option in a Multisite<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Fixed:<\/p>\n<ul>\n<li>Double slash in file path causing 403 on some of the sites<\/li>\n<li>Localisation error reported by @talgat ( Thank You \ud83d\ude42 )<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.4.5<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>Error &#8220;No file content sent&#8221; with WP 4.6<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.4.4<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>Stats Calculation, Use custom query to retrieve data<\/li>\n<li>Fixed warning and notices<\/li>\n<li>PNG to JPEG conversion not working for Multisite ( Pro Users )<\/li>\n<li>thumbnails not being converted for PNG to JPEG conversion<\/li>\n<\/ul>\n<\/li>\n<li>Removed option to convert Transparent PNGs to JPEGs ( Pro Users )<\/li>\n<li>Added check for invalid membership<\/li>\n<\/ul>\n<h4>2.4.3<\/h4>\n<pre><code>- Fixed:\n    - Image resizing not working on image upload\n<\/code><\/pre>\n<h4>2.4.2<\/h4>\n<pre><code>- Fixed:\n    - PHP 5.2 compatibility\n<\/code><\/pre>\n<h4>2.4.1<\/h4>\n<ul>\n<li>Fixed:<br \/>\nConflict with customizer<\/li>\n<\/ul>\n<h4>2.4<\/h4>\n<ul>\n<li>\n<p>Compatibility:<\/p>\n<ul>\n<li>WPML Media Add-on compatibility, you can smush all the images for all the languages at once from Bulk Smush page<\/li>\n<\/ul>\n<\/li>\n<li>\n<p>Features:<\/p>\n<ul>\n<li>Added PNG to JPG &#8211; Lossy Conversion for higher savings ( Pro Feature )<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<p>-Fixed:<br \/>\n    &#8211; EXIF: Device details were left out for some images, even when opted for stripping it<\/p>\n<ul>\n<li>Updated:\n<ul>\n<li>Minor Tweaks on WP Smush Page ( Bulk Smush )<\/li>\n<li>Stats calculation is more accurate<\/li>\n<li>Show current image size and image size dimensions in media library after image has been smushed<\/li>\n<li>JPEG optimisation &#8211; higher savings for JPEGs lossy optimisation ( Pro Feature )<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.3.1<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>Stats not updated on resizing images<\/li>\n<li>CSS conflict in Media Library<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.3<\/h4>\n<ul>\n<li>Fixed:\n<ul>\n<li>Tooltip on image edit page<\/li>\n<li>Warning and Notices<\/li>\n<\/ul>\n<\/li>\n<li>Updated:\n<ul>\n<li>Improved stats calculation<\/li>\n<li>Bulk Smush page optimised for Image heavy sites<\/li>\n<li>Cleanup on uninstall<\/li>\n<\/ul>\n<\/li>\n<li>Added:\n<ul>\n<li>Image Resizing option for Media, NextGen(Pro Only) images<\/li>\n<li>Total image count on stats page<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>2.2.2<\/h4>\n<ul>\n<li>Fixed: JS error causing issue with Editor on some installs, plugin conflict with CoursePress plugin, ACF ( Clear All Caches after plugin upgrade, Cloudflare as well )<\/li>\n<li>Fixed: ReSmush count for bulk smushing<\/li>\n<li>Fixed: Smush settings accessibility for Screen reader\/Keyboard<\/li>\n<li>Fixed: WP Admin loading slow ( Load smush stats on required admin pages only )<\/li>\n<\/ul>\n<h4>2.2.1<\/h4>\n<ul>\n<li>New: Option to resmush image if settings are changed after optimising images<\/li>\n<li>New: Added an option to preserve EXIF<\/li>\n<li>New: Remove Smush meta on image regeneration,<br \/>\n   This allows user to manually smush them later, if auto smush is off ( WP Image Editor support )<\/li>\n<li>New: Manual Image restore option for Media Library and NextGen Gallery, if &#8220;Backup Original Images&#8221; was kept on while smushing ( Pro Only )<\/li>\n<li>New: Delete Backup Files (Pro Only) on attachment deletion<\/li>\n<li>Updated: Upfront Integration<\/li>\n<li>Fixed: jQuery tooltip conflict<\/li>\n<li>Code Optimisation, Updated Settings page UI<\/li>\n<\/ul>\n<h4>2.1.5<\/h4>\n<ul>\n<li>Fixed: WP Media Folder Plugin compatibility<\/li>\n<li>Fixed: Warning on Plugins Page<\/li>\n<li>Updated: Settings Page styling<\/li>\n<\/ul>\n<h4>2.1.4<\/h4>\n<ul>\n<li>Fixed: Preserve file permission after smushing ( Fix for Images disappearing in Media library on some hosts )<\/li>\n<li>Fixed: Styles plugin compatibility<\/li>\n<li>Fixed: Append URL params considering the existing arguments ( WPML Compatibility )<\/li>\n<li>Fixed: Warning: For settings link in Network admin, Warning: https:\/\/goo.gl\/HAfhaF ( Thank you @Maks3w for suggestions )<\/li>\n<li>Fixed: Fatal error if both pro version and free version are activated<\/li>\n<li>Fixed: NextGen-Smush conflict on plugin activation on a fresh install<\/li>\n<\/ul>\n<h4>2.1.3<\/h4>\n<ul>\n<li>Fixed: Compatibility with v4.0 of our Dashboard plugin, was not detecting pro status<\/li>\n<\/ul>\n<h4>2.1.2<\/h4>\n<ul>\n<li>Fixed: Important fix for transient issue leading to mutliple api requests<\/li>\n<\/ul>\n<h4>2.1.1<\/h4>\n<ul>\n<li>Fixed: Workaround for terrible bug in W3TC file based object caching<\/li>\n<\/ul>\n<h4>2.1<\/h4>\n<ul>\n<li>Fixed: Untranslatable strings in settings<\/li>\n<li>Fixed: Increased is_pro() API timeouts<\/li>\n<li>Fixed: Remove redundant _get_api_key() cache check<\/li>\n<li>Fixed: Some PHP notices on fresh installs<\/li>\n<li>Fixed: Bulk Smush button keeps spinning after 50 images for free version<\/li>\n<li>Fixed: NextGen Bulk Smush button issue<\/li>\n<li>Fixed: Invalid header issue<\/li>\n<li>Fixed: Warnings in file functions<\/li>\n<li>Updated: Added limit on query results, for sites with higher image count, Use filter <code>wp_smush_media_query_limit<\/code> to adjust values<\/li>\n<li>Added: Sortable WP Smush column in Media Library<\/li>\n<li>Added: Filters <code>wp_smush_media_image<\/code> for Media Gallery, <code>wp_smush_nextgen_image<\/code> For NextGen gallery,<br \/>\n      allows to skip a particular image size from smushing<\/li>\n<li>Added: NextGen Gallery support<\/li>\n<\/ul>\n<h4>2.0.6.5<\/h4>\n<ul>\n<li>Updated: Skip webp images ( causing ajax error for few sites )<\/li>\n<li>Fixed: Warning and Notices ( Media Library not loading )<\/li>\n<li>Fixed: Smush full size image if no other sizes are available<\/li>\n<li>Added: Detailed text for stats and settings<\/li>\n<\/ul>\n<h4>2.0.6.3<\/h4>\n<ul>\n<li>Fixed: Change File permission after replacing image<\/li>\n<li>Fixed: Directory path for files<\/li>\n<li>Fixed: Workaround for Auto Smush issue on Hostgator<\/li>\n<li>Fixed: Smush button doesn&#8217;t works in media library dialog on post screen, when add media is clicked<br \/>\n     (https:\/\/wordpress.org\/support\/topic\/like-wp-smush-a-lot)<\/li>\n<li>New:   Show number of images smushed in stats column<\/li>\n<li>Added: Support for WP Retina 2x Plugin<\/li>\n<li>Added: Filter <code>WP_SMUSH_API_TIMEOUT<\/code> to change the default time out value from 60s<\/li>\n<li>Added: Smush original image option (Pro Only)<\/li>\n<\/ul>\n<h4>2.0.6.2<\/h4>\n<ul>\n<li>Use string for text domain instead of PHP Constant ( WordPress Guideline )<\/li>\n<\/ul>\n<p>2.0.6.1 &#8211; 2015-05-20 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>Updated: Max image size set to 32Mb for Pro Version<\/li>\n<\/ul>\n<p>2.0.6 &#8211; 2015-05-20 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>Fixed: Conflict with various themes while editing post and page<\/li>\n<li>Fixed: Word Count not working<\/li>\n<li>Fixed: Notice and Warnings<\/li>\n<\/ul>\n<p>2.0.5 &#8211; 2015-04-17 &#8211; Aaron Edwards, Sam Najian, Umesh Kumar<\/p>\n<ul>\n<li>New:   Allow Super-smush for existing smushed images<\/li>\n<li>Fixed: IMPORTANT &#8211; broken transient caching for is_pro<\/li>\n<li>Fixed: Fixed conflict with wp gallery link plugin in grid view<\/li>\n<li>Fixed: Other small fixes<\/li>\n<\/ul>\n<p>2.0.4 &#8211; 2015-04-14 &#8211; Aaron Edwards, Umesh Kumar<\/p>\n<ul>\n<li>Fix: Fatal error conflict with some plugins on fronted of site<\/li>\n<\/ul>\n<p>2.0.3 &#8211; 2015-04-14 &#8211; Aaron Edwards, Sam Najian and Umesh Kumar<\/p>\n<ul>\n<li>Complete rewrite to use WPMU DEV&#8217;s new fast and reliable API service.<\/li>\n<li>New: &#8220;Super-Smush&#8221; your images with our intelligent multi-pass lossy compression. Get &gt;60% average compression with almost no noticeable quality loss!<\/li>\n<li>New: Keep a backup of your original un-smushed images in case you want to restore later.<\/li>\n<li>UX\/UI updated with overall stats, progress bar.<\/li>\n<\/ul>\n<p>1.1.1 &#8211; 2015-03-27 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>Updated: Use simplified meta queries<\/li>\n<\/ul>\n<p>1.1 &#8211; 2015-03-27 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>New:     New API Servers added for faster optimization<\/li>\n<li>Fixed:   PHP warning for broken files<\/li>\n<\/ul>\n<p>1.0.3.1 &#8211; 2015-03-26 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>New:     Suggest manual smushing for smaller bulk request<\/li>\n<li>New:     Allow media sorting in list view as per smush status<\/li>\n<li>Updated: Bulk smush query<\/li>\n<li>Updated: Wait time estimation<\/li>\n<\/ul>\n<p>1.0.3 &#8211; 2015-02-27 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>New:   Added constant &#8216;WPMUDEV_APIKEY&#8217;, to specify WPMU membership key explicitly<\/li>\n<li>Fixed: Plugin activation issue in Multisite<\/li>\n<li>Fixed: Decode URLs received from API to remove any encoded characters<\/li>\n<\/ul>\n<p>1.0.2 &#8211; 2015-02-03 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>Fixed: Use options instead of transient to fix W3TC object caching issue<\/li>\n<li>New:   Modify email address for bulk smush notification<\/li>\n<\/ul>\n<p>1.0.1 &#8211; 2015-01-01 &#8211; Umesh Kumar<\/p>\n<ul>\n<li>New:      CDN, suggestion to whitelist IP<\/li>\n<li>New:      Use Ajax to check API status<\/li>\n<li>New:      Limit concurrent pending single smush to 1000, to avoid hogging up of server resources<\/li>\n<li>Fixed:    Db cleanup on uninstall<\/li>\n<li>Fixed:    Remove unnecessary meta on install<\/li>\n<li>Fixed:    Request status for removed bulk requests<\/li>\n<li>Updated:  Allowed file types (JPEF, PNG, GIF )<\/li>\n<li>Updated:  Wait Time reduced<\/li>\n<\/ul>\n<p>1.0 &#8211; 2014-11-24 &#8211; Saurabh Shukla, Umesh Kumar<\/p>\n<ul>\n<li>First release<\/li>\n<\/ul>\n","screenshots":"<ol><li><a href=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-1.gif?rev=1997463\"><img src=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-1.gif?rev=1997463\" alt=\"Simple to get started with the Smush set up wizard.\"><\/a><p>Simple to get started with the Smush set up wizard.<\/p><\/li><li><a href=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-2.png?rev=1997463\"><img src=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-2.png?rev=1997463\" alt=\"Watch as your image library is processed \u2013 up to 50 images at a time.\"><\/a><p>Watch as your image library is processed \u2013 up to 50 images at a time.<\/p><\/li><li><a href=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-3.png?rev=1997463\"><img src=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-3.png?rev=1997463\" alt=\"Set automatic smush to resize and optimize every image as it is uploaded.\"><\/a><p>Set automatic smush to resize and optimize every image as it is uploaded.<\/p><\/li><li><a href=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-4.png?rev=1997463\"><img src=\"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-4.png?rev=1997463\" alt=\"Smush will find and optimize images for you.\"><\/a><p>Smush will find and optimize images for you.<\/p><\/li><\/ol>"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.6.1.zip","screenshots":{"1":{"src":"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-1.gif?rev=1997463","caption":"Simple to get started with the Smush set up wizard."},"2":{"src":"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-2.png?rev=1997463","caption":"Watch as your image library is processed \u2013 up to 50 images at a time."},"3":{"src":"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-3.png?rev=1997463","caption":"Set automatic smush to resize and optimize every image as it is uploaded."},"4":{"src":"https:\/\/ps.w.org\/wp-smushit\/assets\/screenshot-4.png?rev=1997463","caption":"Smush will find and optimize images for you."}},"tags":{"convert-webp":"convert webp","image":"image","lazy-load":"lazy load","optimize-images":"optimize images","resize":"resize"},"versions":{"1.0.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.0.0.zip","1.0.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.0.1.zip","1.0.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.0.2.zip","1.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.1.zip","1.1.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.1.1.zip","1.1.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.1.2.zip","1.1.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.1.3.zip","1.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.zip","1.2.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.1.zip","1.2.10":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.10.zip","1.2.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.2.zip","1.2.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.3.zip","1.2.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.4.zip","1.2.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.5.zip","1.2.6":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.6.zip","1.2.7":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.7.zip","1.2.8":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.8.zip","1.2.9":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.2.9.zip","1.3.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.3.1.zip","1.3.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.3.2.zip","1.3.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.3.3.zip","1.3.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.3.4.zip","1.4.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.4.0.zip","1.4.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.4.1.zip","1.4.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.4.2.zip","1.4.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.4.3.zip","1.5.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.5.0.zip","1.6.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.0.zip","1.6.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.1.zip","1.6.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.2.zip","1.6.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.3.zip","1.6.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.4.zip","1.6.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.5.zip","1.6.5.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.5.1.zip","1.6.5.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.5.2.zip","1.6.5.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.5.3.zip","1.6.5.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.6.5.4.zip","1.7":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.7.zip","1.7.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.7.1.zip","1.7.1.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.1.7.1.1.zip","2.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.zip","2.0.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.1.zip","2.0.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.3.zip","2.0.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.4.zip","2.0.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.5.zip","2.0.6":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.6.zip","2.0.6.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.6.2.zip","2.0.6.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.6.3.zip","2.0.6.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.6.5.zip","2.0.7":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.7.zip","2.0.7.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.0.7.1.zip","2.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.1.zip","2.1.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.1.1.zip","2.1.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.1.2.zip","2.1.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.1.3.zip","2.1.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.1.4.zip","2.1.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.1.5.zip","2.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.2.zip","2.2.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.2.1.zip","2.2.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.2.2.zip","2.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.3.zip","2.3.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.3.1.zip","2.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.4.zip","2.4.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.4.2.zip","2.4.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.4.3.zip","2.4.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.4.4.zip","2.4.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.4.5.zip","2.5.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.5.2.zip","2.5.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.5.3.zip","2.6.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.6.1.zip","2.6.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.6.2.zip","2.6.3":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.6.3.zip","2.7":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.zip","2.7.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.1.zip","2.7.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.4.zip","2.7.4.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.4.1.zip","2.7.5":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.5.zip","2.7.6":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.6.zip","2.7.8":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.8.zip","2.7.8.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.8.1.zip","2.7.9.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.7.9.1.zip","2.8.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.8.0.zip","2.8.0.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.8.0.1.zip","2.8.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.8.1.zip","2.9.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.2.9.1.zip","3.0.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.0.0.zip","3.0.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.0.1.zip","3.0.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.0.2.zip","3.1.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.1.1.zip","3.2.0.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.2.0.1.zip","3.2.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.2.1.zip","3.2.2.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.2.2.1.zip","3.2.4":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.2.4.zip","3.3.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.3.0.zip","3.3.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.3.1.zip","3.3.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.3.2.zip","3.4.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.4.1.zip","3.4.2":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.4.2.zip","3.6.1":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.3.6.1.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/wp-smushit.zip"},"donate_link":"","author_block_count":0,"author_block_rating":96,"contributors":[]}"""

class Py4Js():
    def __init__(self):
        self.ctx = execjs.compile(""" 
    function TL(a) { 
    var k = ""; 
    var b = 406644; 
    var b1 = 3293161072;       
    var jd = "."; 
    var $b = "+-a^+6"; 
    var Zb = "+-3^+b+-f";    
    for (var e = [], f = 0, g = 0; g < a.length; g++) { 
        var m = a.charCodeAt(g); 
        128 > m ? e[f++] = m : (2048 > m ? e[f++] = m >> 6 | 192 : (55296 == (m & 64512) && g + 1 < a.length && 56320 == (a.charCodeAt(g + 1) & 64512) ? (m = 65536 + ((m & 1023) << 10) + (a.charCodeAt(++g) & 1023), 
        e[f++] = m >> 18 | 240, 
        e[f++] = m >> 12 & 63 | 128) : e[f++] = m >> 12 | 224, 
        e[f++] = m >> 6 & 63 | 128), 
        e[f++] = m & 63 | 128) 
    } 
    a = b; 
    for (f = 0; f < e.length; f++) a += e[f], 
    a = RL(a, $b); 
    a = RL(a, Zb); 
    a ^= b1 || 0; 
    0 > a && (a = (a & 2147483647) + 2147483648); 
    a %= 1E6; 
    return a.toString() + jd + (a ^ b) 
    };      
    function RL(a, b) { 
      var t = "a"; 
      var Yb = "+"; 
      for (var c = 0; c < b.length - 2; c += 3) { 
        var d = b.charAt(c + 2), 
        d = d >= t ? d.charCodeAt(0) - 87 : Number(d), 
        d = b.charAt(c + 1) == Yb ? a >>> d: a << d; 
        a = b.charAt(c) == Yb ? a + d & 4294967295 : a ^ d 
      } 
      return a 
    } 
    """)

    def getTk(self, text):
        return self.ctx.call("TL", text)

def buildUrl(text, tk):
    baseUrl = 'https://translate.google.cn/translate_a/single'
    baseUrl += '?client=t&'
    baseUrl += 'sl=auto&'
    baseUrl += 'tl=zh-CN&'
    baseUrl += 'hl=zh-CN&'
    baseUrl += 'dt=at&'
    baseUrl += 'dt=bd&'
    baseUrl += 'dt=ex&'
    baseUrl += 'dt=ld&'
    baseUrl += 'dt=md&'
    baseUrl += 'dt=qca&'
    baseUrl += 'dt=rw&'
    baseUrl += 'dt=rm&'
    baseUrl += 'dt=ss&'
    baseUrl += 'dt=t&'
    baseUrl += 'ie=UTF-8&'
    baseUrl += 'oe=UTF-8&'
    baseUrl += 'otf=1&'
    baseUrl += 'pc=1&'
    baseUrl += 'ssel=0&'
    baseUrl += 'tsel=0&'
    baseUrl += 'kc=2&'
    baseUrl += 'tk=' + str(tk) + '&'
    baseUrl += 'q=' + text
    return baseUrl

def translate(text):
    header = {
        'authority': 'translate.google.cn',
        'method': 'GET',
        'path': '',
        'scheme': 'https',
        'accept': '*/*',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'zh-CN,zh;q=0.9',
        'cookie': '',
        'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64)  AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.108 Safari/537.36',
        'x-client-data': 'CIa2yQEIpbbJAQjBtskBCPqcygEIqZ3KAQioo8oBGJGjygE='
    }
    url = buildUrl(text, js.getTk(text))
    res = ''

    r = requests.get(url)
    result = json.loads(r.text)
    if result[7] != []:
        try:
            correctText = result[7][0].replace('<b><i>', ' ').replace('</i></b>', '')
            correctUrl = buildUrl(correctText, js.getTk(correctText))
            correctR = requests.get(correctUrl)
            newResult = json.loads(correctR.text)
            res = newResult[0][0][0]
        except Exception as e:
            res = result[0][0][0]
    else:
        res = result[0][0][0]

    return res

if __name__ == '__main__':
    js = Py4Js()
    res = translate(json)
    print (res)
